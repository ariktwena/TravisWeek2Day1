<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

        <title>Hello, world!</title>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-sm-2">

                </div>
                <div class="col-sm-8">
                    <br>
                    <h1 style="text-align: center">Uge 3 Flow 1</h1>
                    <br>
                    <p style="text-align: center">SÃ¸g via max pris :)</p>
                    <br><br>
                    
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Year</th>
                                <th scope="col">Make</th>
                                <th scope="col">Model</th>
                                <th scope="col">Price</th>
                            </tr>
                        </thead>
                        <tbody id="tableData">

                        </tbody>
                    </table>

                    <form onsubmit="mySubmitFunction(event)" id="myForm" action="#">
                        Price: <input type="number" name="priceLess" value=""><br>
                        <input value="Price less then" type="submit">
                    </form>

                </div>
                <div class="col-sm-2">

                </div>
            </div>
        </div>








        <script>
            var cars = [
                {id: 1, year: 1997, make: 'Ford', model: 'E350', price: 3000},
                {id: 2, year: 1999, make: 'Chevy', model: 'Venture', price: 4900},
                {id: 3, year: 2000, make: 'Chevy', model: 'Venture', price: 5000},
                {id: 4, year: 1996, make: 'Jeep', model: 'Grand Cherokee', price: 4799},
                {id: 5, year: 2005, make: 'Volvo', model: 'V70', price: 44799}
            ];
            console.log(cars);

            let html = "";

            for (prop in cars) {
                html += "<tr>";
//                console.log(prop);
//                console.log(cars[prop]);
                const object = cars[prop];
                for (prop in object) {
//                    console.log(object[prop]);
                    html += `<td>${object[prop]}</td>`;
                }
//                console.log(prop, cars[prop]);
                html += "</tr>";
//                console.log(html);
            }
            console.log(html);
            document.getElementById('tableData').innerHTML = html;

            var mySubmitFunction = function (event) {
                event.preventDefault();
                console.log(event);
                console.log(event.target);
                console.log(event.target[0].value);
                let lessPrice = event.target[0].value;
                const newCars = cars;
               
                console.log(newCars.filter(currentElement => currentElement.price < lessPrice));
                
                makeHTMLfromArray(newCars.filter(currentElement => currentElement.price < lessPrice));
            };

            var makeHTMLfromArray = function (array) {
                html = "";
                for (prop in array) {
                    html += "<tr>";
//                console.log(prop);
//                console.log(cars[prop]);
                    const object = array[prop];
                    for (prop in object) {
//                    console.log(object[prop]);
                        html += `<td>${object[prop]}</td>`;
                    }
//                console.log(prop, cars[prop]);
                    html += "</tr>";
//                console.log(html);
                }
                console.log(html);
                document.getElementById('tableData').innerHTML = html;
            };

        </script>




        <!-- Optional JavaScript; choose one of the two! -->

        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

        <!-- Option 2: Separate Popper and Bootstrap JS -->
        <!--
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
        -->
    </body>
</html>